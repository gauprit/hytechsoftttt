<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Online Python Compiler | Hyquantix Tools</title>
<meta name="description" content="Run Python code online instantly. Free Python compiler by Hyquantix Technologies. No login required." />

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- CodeMirror -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/eclipse.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/dracula.css">


<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/addon/edit/closebrackets.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/addon/edit/matchbrackets.js"></script>

<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/python/python.js"></script>

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">

<!-- Pyodide -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>

<style>
body { font-family: 'Manrope', system-ui; }
.error-line {
  background-color: rgba(239, 68, 68, 0.15);
}
/* Force CodeMirror to use full height correctly */
.CodeMirror {
  height: 100% !important;
}

.CodeMirror-scroll {
  height: 100% !important;
}
@media (max-width: 768px) {
  #aiPanel {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60vh;
    z-index: 9999;
  }
}
/* Chat bubbles */
.ai-user {
  background: #4f46e5;
  color: white;
  padding: 10px 14px;
  border-radius: 16px 16px 4px 16px;
  max-width: 80%;
  margin-left: auto;
}

.ai-bot {
  background: #ffffff;
  padding: 10px 14px;
  border-radius: 16px 16px 16px 4px;
  max-width: 80%;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
#aiMessages {
  scroll-behavior: smooth;
}

.ai-typing {
  font-style: italic;
  opacity: 0.6;
}

</style>
</head>

<body class="bg-gray-50 text-gray-800">

<header class="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-slate-200">
  <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">

    <a href="/" class="flex items-center gap-3">
      <img src="logoW.jpg" alt="Hytechsoft" class="w-40 h-10 object-contain ">
      <div>


      </div>
    </a>

    <nav class="hidden md:flex items-center gap-6">
      <a href="#tools" class="text-sm font-medium text-slate-700 hover:text-cyan-600">Tools</a>
      <a href="#about" class="text-sm font-medium text-slate-700 hover:text-cyan-600">About</a>
      <a href="#contact" class="text-sm font-medium text-slate-700 hover:text-cyan-600">Contact</a>
      <a href="/impact"
        class="ml-2 inline-flex items-center px-4 py-2 rounded-full bg-cyan-600 text-white text-sm font-semibold">
        Get Help
      </a>
    </nav>

    <button id="mobile-toggle" class="md:hidden p-2 rounded-lg bg-slate-100">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M4 6h16M4 12h16M4 18h16"
          stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
      </svg>
    </button>

  </div>

  <div id="mobile-menu" class="md:hidden hidden border-t border-slate-100">
    <div class="px-4 py-4 space-y-3">
      <a href="#tools" class="block font-medium">Tools</a>
      <a href="#about" class="block font-medium">About</a>
      <a href="#contact" class="block font-medium">Contact</a>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto px-6 py-12">

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 min-h-[70vh]">

  <!-- CODE EDITOR -->
  <section class="lg:col-span-2 bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden flex flex-col">

    <!-- Header -->
    <div class="flex items-center justify-between px-5 py-3 bg-gray-100 border-b">

  <!-- LEFT SIDE -->
  <div class="flex items-center gap-3">
    <span class="w-3 h-3 bg-red-400 rounded-full"></span>
    <span class="w-3 h-3 bg-yellow-400 rounded-full"></span>
    <span class="w-3 h-3 bg-green-400 rounded-full"></span>

    <span class="ml-4 text-sm font-semibold text-gray-800">
      Python Editor
    </span>

    <span class="ml-2 text-xs px-2 py-0.5 rounded bg-blue-100 text-blue-700 font-semibold">
      Python 3
    </span>
  </div>

  <!-- RIGHT SIDE (NO GAP) -->
  <div class="flex items-center gap-3">
    <button onclick="runCode()"
      class="flex items-center gap-2 px-4 py-2 rounded-full
             bg-gradient-to-r from-blue-500 to-indigo-500
             text-white font-semibold shadow-md">
      ‚ñ∂ Run
    </button>

    <button onclick="toggleAI()"
      class="w-10 h-10 flex items-center justify-center
             rounded-full bg-purple-100 text-purple-700
             hover:bg-purple-200 transition">
      ü§ñ
    </button>
  </div>

</div>


    <!-- Editor -->
    <div class="flex-1">
  <textarea id="code"></textarea>
</div>


  </section>

  <!-- OUTPUT -->
  <section class="bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden flex flex-col">
  <div class="px-5 py-3 bg-gray-100 border-b flex justify-between items-center">
    <span class="font-semibold">Output</span>
    <span id="status" class="text-xs text-gray-500">Ready</span>
  </div>

  <pre id="output" class="flex-1 overflow-auto bg-gray-50 p-4 text-sm"></pre>
</section>


    </div>


</div>

</main>

<section id="aiPanel"
  class="fixed bottom-6 right-6 w-[380px] max-w-[95vw]
         h-[520px]
         bg-white rounded-2xl shadow-2xl border
         flex flex-col hidden z-[9999]">

  <!-- Header -->
  <div class="px-4 py-3
              bg-gradient-to-r from-indigo-500 to-purple-600
              text-white rounded-t-2xl flex justify-between items-center">
    <span class="font-semibold">ü§ñ Python AI Assistant</span>
    <button onclick="toggleAI()" class="text-lg">‚úñ</button>
  </div>

  <!-- üî• SCROLLABLE MESSAGES -->
  <div id="aiMessages"
       class="flex-1 overflow-y-auto p-4 space-y-3 text-sm bg-gray-50">
    <div class="ai-bot">
      Hi üëã I‚Äôm your Python assistant.<br>
      Ask me anything about Python.
    </div>
  </div>

  <!-- INPUT (FIXED, NOT SCROLLING) -->
  <div class="border-t p-3 flex gap-2 bg-white">
    <input id="aiInput"
      class="flex-1 px-3 py-2 border rounded-lg text-sm
             focus:outline-none focus:ring-2 focus:ring-indigo-500"
      placeholder="Ask Python question‚Ä¶"
      onkeydown="if(event.key==='Enter') askAI()" />

    <button onclick="askAI()"
      class="px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold">
      Send
    </button>
  </div>
</section>




<!-- FOOTER -->
<footer class="text-center text-xs text-gray-500 py-6">
  ¬© 2025 Hyquantix Technologies Pvt. Ltd. ¬∑ Free Developer Tools
</footer>

<!-- SCRIPT -->
<script>

const toggle = document.getElementById("mobile-toggle");
const menu = document.getElementById("mobile-menu");

toggle.addEventListener("click", () => {
  menu.classList.toggle("hidden");
});

let pyodide;
let ready = false;

async function initPython() {
  pyodide = await loadPyodide();
  ready = true;
  document.getElementById("status").textContent = "Python is ready üöÄ";
}
initPython();

async function runCode() {
  const output = document.getElementById("output");
  const status = document.getElementById("status");
    const code = editor.getValue();


  if (!ready) {
    status.textContent = "Python is still loading...";
    return;
  }

  output.textContent = "";
  status.textContent = "Running code...";

  try {
    pyodide.runPython(`
import sys
from js import document
class Writer:
    def write(self, text):
        document.getElementById("output").textContent += text
    def flush(self): pass
sys.stdout = sys.stderr = Writer()
    `);

    await pyodide.runPythonAsync(code);
    status.textContent = "Execution finished ‚úÖ";
  }catch (err) {
  status.textContent = "Error ‚ùå";
  status.className = "text-xs font-medium text-red-600";

  const rawError = err.toString();

output.textContent = formatPythonError(err);

// üî• CALL AI ERROR DETECTOR SAFELY
if (window.detectPythonError) {
  window.detectPythonError(rawError);
}


const lineNumber = extractPythonLineNumber(rawError);
    if (lineNumber !== null) {
    highlightErrorLine(lineNumber);
    }

}

}


function formatPythonError(err) {
  const msg = err.toString();

  const lineNumber = extractPythonLineNumber(msg);

  let output = "‚ùå Python Error Detected\n\n";
  output += msg + "\n";

  if (lineNumber !== null) {
    output += `\n‚û° Issue found at line ${lineNumber}`;
  }

  return output;
}




</script>
<script>
/* ===============================
   EXTRACT CORRECT LINE NUMBER
================================ */
function extractPythonLineNumber(errorText) {
  const match = errorText.match(/File "<exec>", line (\d+)/);
  return match ? parseInt(match[1], 10) : null;
}

/* ===============================
   HIGHLIGHT ERROR LINE
================================ */
let lastErrorMarker = null;

function highlightErrorLine(lineNumber) {
  if (!editor || !lineNumber) return;

  // Remove previous marker
  if (lastErrorMarker) {
    editor.removeLineClass(lastErrorMarker, "background", "error-line");
  }

  const lineIndex = lineNumber - 1;
  editor.addLineClass(lineIndex, "background", "error-line");
  editor.setCursor({ line: lineIndex, ch: 0 });
  editor.focus();

  lastErrorMarker = lineIndex;
}
</script>


<script>
const editor = CodeMirror.fromTextArea(document.getElementById("code"), {
  mode: "python",
  theme: "eclipse",
  lineNumbers: true,

  indentUnit: 4,
  tabSize: 4,
  indentWithTabs: false,
  smartIndent: true,

  autoCloseBrackets: true,
  matchBrackets: true,

  viewportMargin: 1000, // ‚úÖ SAFE
  autofocus: true
});

editor.setValue(`# =====================================================
#  Welcome to Hyquantix Python Compiler
# =====================================================
#  ‚Ä¢ Run Python code instantly in your browser
#  ‚Ä¢ No installation, no login required
#  ‚Ä¢ Powered by Pyodide + CodeMirror
#
#  Tips:
#  - Press Ctrl + Enter to run your code
#  - Errors will be highlighted directly in the editor
# =====================================================

def main():
    print("üöÄ Hyquantix Python Compiler is ready!")

    for i in range(1, 6):
        print(f"Count: {i}")

    print("\\nHappy coding! üß†‚ú®")


if __name__ == "__main__":
    main()
`);

editor.addKeyMap({
  "Ctrl-Enter": () => runCode(),
  "Cmd-Enter": () => runCode()
});
</script>

<!-- Python AI Assistant -->
<script src="ai.js" defer></script>



</body>
</html>
